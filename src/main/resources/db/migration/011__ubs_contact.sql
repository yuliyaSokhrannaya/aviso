--drop SEQUENCE seq_ubs_contact_id;
--drop  TABLE ubs_contact;
--drop SEQUENCE seq_ubs_contact_type_id;
--drop TABLE ubs_contact_type;


CREATE SEQUENCE seq_ubs_contact_id START WITH 1;

CREATE TABLE ubs_contact(
id INTEGER GENERATED BY DEFAULT AS SEQUENCE seq_ubs_contact_id PRIMARY KEY,
client_id INTEGER,
employee_id INTEGER,
status BOOLEAN,
type_id INTEGER );

INSERT INTO ubs_contact
VALUES (NULL,1,1,TRUE,1);

INSERT INTO ubs_contact
VALUES (NULL,2,2,FALSE,2);

CREATE SEQUENCE seq_ubs_contact_type_id START WITH 1;

CREATE TABLE ubs_contact_type(
id INTEGER GENERATED BY DEFAULT AS SEQUENCE seq_ubs_contact_type_id PRIMARY KEY,
contact_type VARCHAR(128) NOT NULL CHECK (contact_type <> '') );

INSERT INTO ubs_contact_type
VALUES (NULL,'Hot');

INSERT INTO ubs_contact_type
VALUES (NULL,'Cold');

ALTER TABLE ubs_contact ADD CONSTRAINT fk_ubs_contact_type FOREIGN KEY (type_id) REFERENCES ubs_contact_type(id) ON DELETE CASCADE;
ALTER TABLE ubs_contact ADD CONSTRAINT fk_ubs_contact_employee FOREIGN KEY (employee_id) REFERENCES employee(id) ON DELETE CASCADE;
ALTER TABLE ubs_contact ADD CONSTRAINT fk_ubs_contact_client FOREIGN KEY (client_id) REFERENCES client(client_id) ON DELETE CASCADE;
select * from ubs_contact;